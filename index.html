<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>City Finder</title>
  </head>
  <body>
    <form>
      Enter A Utah City: <input type="text" id="cityField" value="" /><br />
      Suggestion: <span id="txtHint">Empty</span>
      <input id="weatherButton" type="submit" value="Submit" />
    </form>
    <p>City</p>
    <textarea id="displayCity">No City</textarea>
    <p>Current Weather</p>
    <div id="weather">No weather</div>
  </body>
</html>

<script>
  document
    .getElementById("cityField")
    .addEventListener("keyup", function(event) {
      event.preventDefault();
      document.getElementById("txtHint").innerHTML = "Keyup";
    });
  document
    .getElementById("cityField")
    .addEventListener("keyup", function(event) {
      event.preventDefault();
      document.getElementById("txtHint").innerHTML = document.getElementById(
        "cityField"
      ).value;
    });
  const url = "staticCity.txt";
  fetch(url)
    .then(function(response) {
      return response.json();
    })
    .then(function(json) {
      console.log(json);
      console.log(json[0]);
      console.log("Got " + json[0].city);
    });
  var everything;
  everything = "<ul>";
  for (let i = 0; i < json.length; i++) {
    everything += "<li> " + json[i].city;
  }

  everything += "</ul>";
  document.getElementById("txtHint").innerHTML = everything;

  document
    .getElementById("cityField")
    .addEventListener("keyup", function(event) {
      event.preventDefault();
      alert("Handler for .keyup() called.");
    });
</script>
<script>
  document
    .getElementById("cityField")
    .addEventListener("keyup", function(event) {
      event.preventDefault();
      const url = "http://bioresearch.byu.edu/cs260/jquery/getcity.cgi?q=P";
      fetch(url)
        .then(function(response) {
          return response.json();
        })
        .then(function(json) {
          console.log(json);
          console.log(json[0]);
          console.log("Got " + json[0].city);
          var everything;
          everything = "<ul>";
          for (let i = 0; i < json.length; i++) {
            everything += "<li> " + json[i].city;
          }
          everything += "</ul>";
          document.getElementById("txtHint").innerHTML = everything;
        });
    });
  const url =
    "http://bioresearch.byu.edu/cs260/jquery/getcity.cgi?q=" +
    document.getElementById("cityField").value;
</script>
